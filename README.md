# DACpiano

The main objective of this lab is to design and implement a digital piano using a Digital-to-Analog Converter (DAC) with the use of the MSP432 board. A 4-bit binary weighted DAC was designed. A device driver for the DAC and an interface of three push buttons functioning as piano keys were also implemented.  The sound generation software was organized in the device driver in order to store the sound waveform. Finally, modular programming in C was used to link modules together in the main function in order to create the digital piano.

## Background
First, the Piano and DAC were created. In the Piano file, port 5 pins 0-2 were initialized and used for the piano keys/pushbuttons. In the DAC file, port 4 pins 0-3 were initialized and used for the output. The Sound file determined which keys were pressed and what frequency used to play notes C, D, or F. The SysTick->LOAD value was determined by [(3*10^6)/frequency]/32. The clock frequency of 3 MHz was used, it was divided by the frequency of the note assigned, and then divided by 32. This is done because the sine wave consisted of 32 4-bit elements. If none of the buttons are pressed, the interrupt is set to 0 and turned off until a button is pressed and it needs to be acknowledged. In the SysTick file, the wave of 32 elements was used and interrupts were initialized and handled.  A count of 32 was used to increment through the wave function and then outputted to the port. Header files were also created to differentiate “what it does” from “how it works”. The main file, was used to call the Sound_init function, to call the Piano_In function to determine whether a key was pressed, and Sound_Play to play a note depending on the key pressed.

